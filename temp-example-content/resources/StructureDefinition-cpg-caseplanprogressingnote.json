{
  "resourceType": "StructureDefinition",
  "id": "cpg-caseplanprogressingnote",
  "url": "http://hl7.org/fhir/uv/cpg/StructureDefinition/cpg-caseplanprogressingnote",
  "name": "CPGCasePlanProgressingNote",
  "title": "CPG Case Plan Progressing Note",
  "status": "active",
  "experimental": false,
  "description": "CPG Case Plan Progressing Note combines relevant case features and feature groups with proposals, plans, and clinical impressions to provide a means to document patient progression with respect to a pathway in the context of a computable clinical practice guideline",
  "fhirVersion": "4.0.1",
  "mapping": [
    {
      "identity": "workflow",
      "uri": "http://hl7.org/fhir/workflow",
      "name": "Workflow Pattern"
    },
    {
      "identity": "rim",
      "uri": "http://hl7.org/v3",
      "name": "RIM Mapping"
    },
    {
      "identity": "cda",
      "uri": "http://hl7.org/v3/cda",
      "name": "CDA (R2)"
    },
    {
      "identity": "fhirdocumentreference",
      "uri": "http://hl7.org/fhir/documentreference",
      "name": "FHIR DocumentReference"
    },
    {
      "identity": "w5",
      "uri": "http://hl7.org/fhir/fivews",
      "name": "FiveWs Pattern Mapping"
    }
  ],
  "kind": "resource",
  "abstract": false,
  "type": "Composition",
  "baseDefinition": "http://hl7.org/fhir/uv/cpg/StructureDefinition/cpg-caseplansummary",
  "derivation": "constraint",
  "differential": {
    "element": [
      {
        "id": "Composition",
        "path": "Composition",
        "comment": "The case plan progressing note can also be the means of providing feedback directly from the care team on both the patient and their condition as well as the usage and utiliy of guideline components. The knowledge egineer needs to be careful to keep the forms logic (UI) separated from the description logic (for case features) and decision logic (for recommendations) as well as any logic used for patient-level indicators (CPGMetrics) used in the Form."
      },
      {
        "id": "Composition.type",
        "path": "Composition.type",
        "patternCodeableConcept": {
          "coding": [
            {
              "code": "11506-3",
              "system": "http://loinc.org"
            }
          ]
        }
      },
      {
        "id": "Composition.section",
        "path": "Composition.section",
        "slicing": {
          "discriminator": [
            {
              "type": "value",
              "path": "code"
            }
          ],
          "rules": "open"
        },
        "mustSupport": true
      },
      {
        "id": "Composition.section:impression",
        "path": "Composition.section",
        "sliceName": "impression",
        "min": 0,
        "max": "*",
        "mustSupport": true
      },
      {
        "id": "Composition.section:impression.code",
        "path": "Composition.section.code",
        "min": 1,
        "patternCodeableConcept": {
          "coding": [
            {
              "code": "51848-0",
              "system": "http://loinc.org"
            }
          ]
        },
        "mustSupport": true
      },
      {
        "id": "Composition.section:impression.entry",
        "path": "Composition.section.entry",
        "min": 1,
        "max": "1",
        "type": [
          {
            "code": "Reference",
            "targetProfile": [
              "http://hl7.org/fhir/uv/cpg/StructureDefinition/cpg-clinicalimpression"
            ]
          }
        ],
        "mustSupport": true
      }
    ]
  }
}
